<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: dist/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: dist/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";

function _typeof(obj) { if (typeof Symbol === "function" &amp;&amp; typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj &amp;&amp; typeof Symbol === "function" &amp;&amp; obj.constructor === Symbol &amp;&amp; obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

// //////////////////////////////////////////////////////////////////////////////// //
// MIT License
//
// Copyright (c) 2018 Jan KÃ¼ster
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
//   The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.
//
//   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.
//
// //////////////////////////////////////////////////////////////////////////////// //

/**
 * @private
 */
function checkRules(rules) {
  rules.forEach(function (rule) {
    if (typeof rule !== 'function') {
      throw new Error("Expected [rule] to be typeof [function], got [".concat(typeof value === "undefined" ? "undefined" : _typeof(value), "]"));
    }
  });
}
/**
 * @private
 */


function checkSet(set) {
  if (!(set instanceof global.Set)) {
    throw new Error("Expected [set] to be instanceof [Set], got [".concat(set.constructor, "]"));
  }
} // //////////////////////////////////////////////////////////////////////////////// //
//                                                                                  //
// OVERRIDES                                                                        //
//                                                                                  //
// //////////////////////////////////////////////////////////////////////////////// //

/**
 * @private
 */


var originalAdd = global.Set.prototype.add;
/**
 * Overrides {Set.add} to respect the internal rules function.
 * @throws Error if rules function exists and {value} failed the rules check.
 * @param value (any)
 * @returns {*}
 */

global.Set.prototype.add = function add(value) {
  if (this.rulesFct &amp;&amp; !this.rulesFct.call(null, value)) {
    throw new Error("Value [".concat(value, "] does not match ruleset."));
  }

  return originalAdd.call(this, value);
}; // //////////////////////////////////////////////////////////////////////////////// //

/**
 *
 * @type {global.Set.has|*}
 */


var originalHas = global.Set.prototype.has;

global.Set.prototype.has = function has(value) {
  if (!(value instanceof Set)) {
    return originalHas.call(this, value);
  } // if we want to check if this set has a set with the
  // same elements as the given set in the argument,
  // we need to check for equality of all elements of this set
  // and the argument set


  var self = this;
  var iterator = this.values();
  var element;

  while ((element = iterator.next().value) !== void 0) {
    if (element instanceof Set &amp;&amp; element.equal(value)) {
      return true;
    }
  } // and if nothing has matched, we assume
  // that it is not contained in this set


  return false;
}; // //////////////////////////////////////////////////////////////////////////////// //
//                                                                                  //
// PROTOTYPES                                                                       //
//                                                                                  //
// //////////////////////////////////////////////////////////////////////////////// //

/**
 * Pass a function that dictates the rules for elements to be part of this set.
 * Use without args to get the current rules function.
 * @param value (Optional) a Function that obtains a single argument and returns either a truthy or falsey value.
 * @returns {Function|*} Returns the current rules Function if called without args, else nothing.
 */


global.Set.prototype.rules = function rules(value) {
  if (value) {
    checkRules([value]);
    this.rulesFct = value;
  } else {
    return this.rulesFct;
  }
};
/**
 * Creates an array from all elements of this set in unsorted order.
 * @returns {Array} Array containing all elements of this set in unsorted order.
 */


global.Set.prototype.toArray = function toArray() {
  var self = this;
  var out = [];
  out.length = self.size;
  var count = 0;
  self.each(function (value) {
    return out[count++] = value;
  });
  return out;
};
/**
 * Executes a function on each element of the set.
 * The argument, that is passed is the current value of the iterator.
 * @param fct a function with a single argument (value)
 */


global.Set.prototype.each = function each(fct) {
  var self = this;
  var iterator = self.values();
  var value;

  while ((value = iterator.next().value) !== void 0) {
    fct.call(self, value);
  }
};
/**
 *
 * @param set
 * @returns {boolean}
 */


global.Set.prototype.isSupersetOf = function isSupersetOf(set) {
  var iterator = set.values();
  var value;

  while ((value = iterator.next().value) !== void 0) {
    if (!this.has(value)) return false;
  }

  return true;
};
/**
 *
 * @param set
 * @returns {boolean}
 */


global.Set.prototype.isSubsetOf = function isSubsetOf(set) {
  return set.isSupersetOf(this);
};
/**
 *
 * @param set
 * @returns {boolean}
 */


global.Set.prototype.properSupersetOf = function isProperSupersetOf(set) {
  return this.size !== set.size &amp;&amp; this.isSupersetOf(set);
};
/**
 *
 * @param set
 * @returns {boolean}
 */


global.Set.prototype.properSubsetOf = function isProperSubsetOf(set) {
  return this.size !== set.size &amp;&amp; this.isSubsetOf(set);
};
/**
 * Checks, whether two sets are equal in terms of their contained elements.
 * Use the strict equals operator to determine, if they are equal in term of instances.
 * @param set
 * @returns {boolean}
 */


global.Set.prototype.equal = function equal(set) {
  checkSet(set);

  if (this.size !== set.size) {
    return false;
  }

  return this.isSubsetOf(set);
}; // //////////////////////////////////////////////////////////////////////////////// //
//                                                                                  //
// CONSTRUCTOR                                                                      //
//                                                                                  //
// //////////////////////////////////////////////////////////////////////////////// //

/**
 * @private
 */


var OriginalSet = global.Set;
/**
 *
 * @param elements
 * @param rulesFct
 * @returns {ExtendedSet|*}
 * @constructor
 */

function ExtendedSet(elements, rulesFct) {
  var original = new OriginalSet();

  if (rulesFct) {
    original.rules(rulesFct);
  }

  if (elements) elements.forEach(function (element) {
    return original.add(element);
  });
  return original;
}

global.Set = ExtendedSet;
global.Set.prototype = OriginalSet.prototype; // //////////////////////////////////////////////////////////////////////////////// //
//                                                                                  //
// STATICS                                                                          //
//                                                                                  //
// //////////////////////////////////////////////////////////////////////////////// //

/**
 * Creates a unified set of an arbitrary number of sets.
 * @param args
 * @returns {Set&lt;any>}
 */

global.Set.union = function union() {
  var set3 = new Set();

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key &lt; _len; _key++) {
    args[_key] = arguments[_key];
  }

  args.forEach(function (set) {
    return set.each(function (value) {
      return set3.add(value);
    });
  });
  return set3;
};
/**
 *
 * @param set1
 * @param set2
 * @returns {ExtendedSet|*}
 */


global.Set.intersect = function intersect(set1, set2) {
  var set3 = new Set([]);
  set1.each(function (value) {
    if (set2.has(value)) {
      set3.add(value);
    }
  });
  return set3;
};
/**
 *
 * @param set1
 * @param set2
 * @returns {ExtendedSet|*}
 */


global.Set.complement = function complement(set1, set2) {
  var set3 = new Set([]);
  set1.each(function (value) {
    if (!set2.has(value)) {
      set3.add(value);
    }
  });
  return set3;
};
/**
 *
 * @param set1
 * @param set2
 * @returns {ExtendedSet|*}
 */


global.Set.symDiff = function symmetricDifference(set1, set2) {
  var set3 = new Set([]);

  function addToSet(source, compare, target) {
    source.each(function (value) {
      if (!compare.has(value)) {
        target.add(value);
      }
    });
  }

  addToSet(set1, set2, set3);
  addToSet(set2, set1, set3);
  return set3;
};
/**
 *
 * @param set1
 * @param set2
 */


global.Set.cartesian = function cartesianProduct(set1, set2) {
  var set3 = new Set();
  set1.each(function (value1) {
    return set2.each(function (value2) {
      return set3.add([value1, value2]);
    });
  });
  return set3;
};

global.Set.power = function powerSet(set1) {
  throw new Error('not yet implemented');
};

global.Set.mergeRules = function () {
  for (var _len2 = arguments.length, rules = new Array(_len2), _key2 = 0; _key2 &lt; _len2; _key2++) {
    rules[_key2] = arguments[_key2];
  }

  checkRules(rules);
  return function (value) {
    var passed = rules.some(function (rule) {
      return rule.call(value);
    });

    if (!passed) {
      throw new Error("Value [".concat(value, "] does not match any rule of the ruleset."));
    }

    return true;
  };
};

global.Set.mergeRulesStrict = function () {
  for (var _len3 = arguments.length, rules = new Array(_len3), _key3 = 0; _key3 &lt; _len3; _key3++) {
    rules[_key3] = arguments[_key3];
  }

  checkRules(rules);
  return function (value) {
    var passed = rules.every(function (rule) {
      return rule.call(value);
    });

    if (!passed) {
      throw new Error("Value [".concat(value, "] does not match any rule of the ruleset."));
    }

    return true;
  };
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ExtendedSet.html">ExtendedSet</a></li></ul><h3>Global</h3><ul><li><a href="global.html#from">from</a></li><li><a href="global.html#intersect">intersect</a></li><li><a href="global.html#originalHas">originalHas</a></li><li><a href="global.html#powerSet">powerSet</a></li><li><a href="global.html#toSet">toSet</a></li><li><a href="global.html#union">union</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Sep 20 2018 12:32:21 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
